<!DOCTYPE html>
<html lang="vi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Qu·∫£n l√Ω ng∆∞·ªùi d√πng - H·ªá th·ªëng nh·∫≠n di·ªán khu√¥n m·∫∑t</title>
    <link rel="stylesheet" href="css/style.css">
</head>
<body>
    <div class="container">
        <h1>Qu·∫£n l√Ω ng∆∞·ªùi d√πng</h1>
        
        <div class="control-panel">
            <button id="refreshButton">
                <span class="icon">üîÑ</span>
                L√†m m·ªõi danh s√°ch
            </button>
            
            <a href="register.html" class="register-link">Th√™m ng∆∞·ªùi d√πng m·ªõi</a>
            <a href="index.html" class="back-link">Quay l·∫°i trang ch·ªß</a>
        </div>
        
        <div class="search-filter">
            <input type="text" id="searchInput" placeholder="T√¨m ki·∫øm ng∆∞·ªùi d√πng...">
            <select id="sortSelect">
                <option value="name">S·∫Øp x·∫øp theo t√™n</option>
                <option value="id">S·∫Øp x·∫øp theo ID</option>
                <option value="created_at">S·∫Øp x·∫øp theo ng√†y t·∫°o</option>
            </select>
        </div>
        
        <div class="users-list" id="usersList">
            <!-- Danh s√°ch ng∆∞·ªùi d√πng s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã ·ªü ƒë√¢y -->
            <div class="loading-indicator">ƒêang t·∫£i danh s√°ch ng∆∞·ªùi d√πng...</div>
        </div>
        
        <!-- Modal xem chi ti·∫øt ng∆∞·ªùi d√πng -->
        <div id="userDetailModal" class="modal">
            <div class="modal-content">
                <span class="close-modal">&times;</span>
                <h2 id="modalTitle">Chi ti·∫øt ng∆∞·ªùi d√πng</h2>
                
                <div class="modal-body">
                    <form id="userForm">
                        <input type="hidden" id="userId">
                        
                        <div class="form-group">
                            <label for="userName">H·ªç v√† t√™n:</label>
                            <input type="text" id="userName" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="userEmail">Email:</label>
                            <input type="email" id="userEmail">
                        </div>
                        
                        <div class="form-group">
                            <label for="userPhone">S·ªë ƒëi·ªán tho·∫°i:</label>
                            <input type="tel" id="userPhone">
                        </div>
                        
                        <div class="form-group">
                            <label for="userPosition">Ch·ª©c v·ª•:</label>
                            <input type="text" id="userPosition">
                        </div>
                        
                        <div class="form-group">
                            <label for="userDepartment">Ph√≤ng ban:</label>
                            <input type="text" id="userDepartment">
                        </div>
                        
                        <div class="form-actions">
                            <button type="submit" class="btn-save">L∆∞u thay ƒë·ªïi</button>
                        </div>
                    </form>
                    
                    <div class="face-images-section">
                        <h3>·∫¢nh khu√¥n m·∫∑t</h3>
                        <div class="face-images-container" id="faceImagesContainer">
                            <!-- ·∫¢nh khu√¥n m·∫∑t s·∫Ω ƒë∆∞·ª£c hi·ªÉn th·ªã ·ªü ƒë√¢y -->
                        </div>
                        
                        <div class="add-face-section">
                            <h4>Th√™m ·∫£nh khu√¥n m·∫∑t m·ªõi</h4>
                            <div class="webcam-controls">
                                <button type="button" id="startCameraButton" class="btn-camera">B·∫≠t camera</button>
                                <button type="button" id="captureFaceButton" class="btn-capture" disabled>Ch·ª•p ·∫£nh</button>
                                <button type="button" id="saveFaceButton" class="btn-save" disabled>L∆∞u ·∫£nh</button>
                            </div>
                            
                            <div class="capture-container">
                                <video id="webcamFace" autoplay playsinline style="display: none;"></video>
                                <canvas id="canvasFace" style="display: none;"></canvas>
                                <img id="capturedFace" style="display: none;">
                            </div>
                        </div>
                    </div>
                    
                    <div class="danger-zone">
                        <h3>V√πng nguy hi·ªÉm</h3>
                        <button type="button" id="deleteUserButton" class="btn-danger">X√≥a ng∆∞·ªùi d√πng n√†y</button>
                    </div>
                </div>
            </div>
        </div>
        
        <!-- Modal x√°c nh·∫≠n x√≥a -->
        <div id="confirmDeleteModal" class="modal">
            <div class="modal-content modal-sm">
                <h3>X√°c nh·∫≠n x√≥a</h3>
                <p>B·∫°n c√≥ ch·∫Øc ch·∫Øn mu·ªën x√≥a ng∆∞·ªùi d√πng n√†y? H√†nh ƒë·ªông n√†y kh√¥ng th·ªÉ ho√†n t√°c.</p>
                <div class="modal-actions">
                    <button id="confirmDeleteButton" class="btn-danger">X√≥a</button>
                    <button id="cancelDeleteButton" class="btn-secondary">H·ªßy</button>
                </div>
            </div>
        </div>
    </div>
    
    <script src="js/webcam.js"></script>
    <script src="js/users.js"></script>
</body>
</html>